name = "iba-cleaning-api"
main = "src/index.ts"
compatibility_date = "2024-11-16"
compatibility_flags = ["nodejs_compat"]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "iba-cleaning-db"
database_id = "" # Will be filled after creating D1 database

# Environment variables (secrets)
# Set these using: wrangler secret put <KEY_NAME>
# - JWT_SECRET
# - STRIPE_SECRET_KEY
# - CLIENT_URL
# - ADMIN_URL

[vars]
NODE_ENV = "production"

# Build configuration
[build]
command = "npm install && npm run build"

# Route configuration (optional - for custom domains)
# routes = [
#   { pattern = "api.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]
